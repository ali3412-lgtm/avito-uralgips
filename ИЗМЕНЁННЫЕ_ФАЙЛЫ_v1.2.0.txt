═══════════════════════════════════════════════════════════════════
  СПИСОК ИЗМЕНЁННЫХ ФАЙЛОВ В ВЕРСИИ 1.2.0
═══════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────┐
│ ОСНОВНЫЕ ФАЙЛЫ ПЛАГИНА (ИЗМЕНЕНЫ)                              │
└─────────────────────────────────────────────────────────────────┘

📄 avito-uralgips.php
   ✏️ Изменения:
      - Версия плагина обновлена: 1.1.1 → 1.2.0
      - Константа WC_AVITO_VDOM_VERSION: '1.1.1' → '1.2.0'

📄 includes/field-settings-page.php
   ✏️ Изменения:
      - Добавлена колонка "Условие генерации" в таблицу глобальных полей
      - Обновлены ширины колонок таблицы
      - Добавлено поле ввода для условий с подсказками
      - Обновлён информационный блок с описанием плейсхолдеров
      - Добавлена секция с документацией по условиям генерации
      - Обновлён JavaScript для создания новых полей (добавлено поле condition)
      - Обновлена функция сохранения: добавлено сохранение поля 'condition'

📄 includes/xml-generator-dynamic.php
   ✏️ Изменения:
      - Добавлена функция wc_avito_check_field_condition()
        * Проверяет выполнение условия генерации поля
        * Поддерживает операторы: =, !=, >, <, >=, <=, contains, !contains
        * Обрабатывает плейсхолдеры в условиях
        * Логирует ошибки при неверном формате
      - Функция wc_avito_add_dynamic_fields() обновлена:
        * Добавлена проверка условия перед генерацией глобального поля
        * Поле пропускается если условие не выполнено

📄 includes/field-manager.php
   ✏️ Изменения:
      - Функция wc_avito_get_default_field_settings() обновлена:
        * Добавлено поле 'condition' => '' для всех глобальных полей по умолчанию
        * Обеспечена обратная совместимость для существующих установок

┌─────────────────────────────────────────────────────────────────┐
│ ДОКУМЕНТАЦИЯ (НОВЫЕ ФАЙЛЫ)                                      │
└─────────────────────────────────────────────────────────────────┘

📄 CHANGELOG.md (СОЗДАН)
   📝 Содержимое:
      - Полная история изменений плагина
      - Детальное описание новой функции условий генерации
      - Примеры использования условий
      - Технические детали реализации
      - Список изменённых файлов

📄 УСЛОВИЯ_ГЕНЕРАЦИИ.md (СОЗДАН)
   📝 Содержимое:
      - Подробное руководство пользователя
      - Описание всех операторов с примерами
      - Практические кейсы использования
      - Пошаговые инструкции
      - Раздел отладки и решения проблем

📄 ОБНОВЛЕНИЕ_v1.2.0.txt (СОЗДАН)
   📝 Содержимое:
      - Краткое описание новой функции
      - Быстрый старт для пользователей
      - Примеры использования в ASCII-графике
      - Список доступных операторов и плейсхолдеров

📄 ТЕСТИРОВАНИЕ_v1.2.0.md (СОЗДАН)
   📝 Содержимое:
      - Полный чеклист тестирования новой функции
      - 14 тестовых сценариев
      - Инструкции по отладке
      - Форма для записи результатов тестирования

📄 ИЗМЕНЁННЫЕ_ФАЙЛЫ_v1.2.0.txt (СОЗДАН - ЭТОТ ФАЙЛ)
   📝 Содержимое:
      - Список всех изменённых файлов
      - Краткое описание изменений в каждом файле

📄 test-conditions.php (СОЗДАН - ВСПОМОГАТЕЛЬНЫЙ)
   📝 Содержимое:
      - Тестовый файл для проверки функции условий
      - Можно использовать для отладки
      - Содержит 10 тестовых сценариев
      - МОЖНО УДАЛИТЬ после тестирования

📄 README.md (ОБНОВЛЁН)
   ✏️ Изменения:
      - Добавлена секция с описанием v1.2.0 в истории изменений
      - Добавлена информация об условиях генерации полей
      - Обновлена секция "Плейсхолдеры"
      - Добавлена документация по операторам условий

┌─────────────────────────────────────────────────────────────────┐
│ СТАТИСТИКА ИЗМЕНЕНИЙ                                            │
└─────────────────────────────────────────────────────────────────┘

Изменено существующих файлов: 4
   - avito-uralgips.php
   - includes/field-settings-page.php
   - includes/xml-generator-dynamic.php
   - includes/field-manager.php
   - README.md

Создано новых файлов: 6
   - CHANGELOG.md
   - УСЛОВИЯ_ГЕНЕРАЦИИ.md
   - ОБНОВЛЕНИЕ_v1.2.0.txt
   - ТЕСТИРОВАНИЕ_v1.2.0.md
   - ИЗМЕНЁННЫЕ_ФАЙЛЫ_v1.2.0.txt
   - test-conditions.php

┌─────────────────────────────────────────────────────────────────┐
│ НОВАЯ ФУНКЦИОНАЛЬНОСТЬ                                          │
└─────────────────────────────────────────────────────────────────┘

✨ Условия генерации полей:
   ├─ Новое поле в настройках глобальных полей
   ├─ Поддержка плейсхолдеров в условиях
   ├─ 8 операторов сравнения
   ├─ Проверка условий при генерации XML
   └─ Логирование ошибок

┌─────────────────────────────────────────────────────────────────┐
│ ОБРАТНАЯ СОВМЕСТИМОСТЬ                                          │
└─────────────────────────────────────────────────────────────────┘

✅ Полная обратная совместимость:
   - Существующие поля продолжают работать
   - Для старых полей условие пустое (генерируются всегда)
   - Структура БД расширена, но не изменена
   - Не требуется миграция данных

┌─────────────────────────────────────────────────────────────────┐
│ РЕКОМЕНДАЦИИ ПО ВНЕДРЕНИЮ                                       │
└─────────────────────────────────────────────────────────────────┘

1. Сделайте резервную копию БД перед обновлением
2. Обновите файлы плагина
3. Проверьте, что версия изменилась на 1.2.0
4. Откройте WooCommerce → Поля XML
5. Проверьте наличие новой колонки "Условие генерации"
6. Протестируйте на тестовом товаре
7. Используйте чеклист из ТЕСТИРОВАНИЕ_v1.2.0.md

┌─────────────────────────────────────────────────────────────────┐
│ ТЕХНИЧЕСКАЯ ИНФОРМАЦИЯ                                          │
└─────────────────────────────────────────────────────────────────┘

Языки программирования:
   - PHP (серверная логика)
   - JavaScript (интерфейс администратора)
   - HTML/CSS (вёрстка)

Совместимость:
   - WordPress 5.0+
   - WooCommerce 3.0+
   - PHP 7.0+

Размер изменений:
   - ~350 строк нового PHP кода
   - ~100 строк новой документации
   - ~50 строк JavaScript/HTML

═══════════════════════════════════════════════════════════════════
  ДАТА РЕЛИЗА: 23 января 2026
  ВЕРСИЯ: 1.2.0
═══════════════════════════════════════════════════════════════════

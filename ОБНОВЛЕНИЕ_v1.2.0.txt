╔═══════════════════════════════════════════════════════════════════╗
║                    WC Avito XML Export v1.2.0                     ║
║                   НОВАЯ ФУНКЦИЯ: Условия генерации полей          ║
╚═══════════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────────┐
│ ЧТО НОВОГО?                                                       │
└───────────────────────────────────────────────────────────────────┘

✨ Теперь вы можете указывать условия, при которых глобальные поля
   будут добавляться в XML!

┌───────────────────────────────────────────────────────────────────┐
│ КАК ЭТО РАБОТАЕТ?                                                 │
└───────────────────────────────────────────────────────────────────┘

1. Откройте: WooCommerce → Поля XML
2. Найдите таблицу "Общие поля (для всех объявлений)"
3. В колонке "Условие генерации" укажите условие
4. Поле будет добавлено только если условие выполнено!

┌───────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ                                             │
└───────────────────────────────────────────────────────────────────┘

📌 Поле только для категории "Керамзит":
   {category_name}=Керамзит

📌 Поле для товаров дороже 1000 рублей:
   {product_price}>1000

📌 Поле для товаров, содержащих слово "кирпич":
   {product_name} contains кирпич

📌 Поле только для товаров в наличии:
   {meta:_stock_status}=instock

┌───────────────────────────────────────────────────────────────────┐
│ ДОСТУПНЫЕ ОПЕРАТОРЫ                                               │
└───────────────────────────────────────────────────────────────────┘

=          равно
!=         не равно
>          больше
<          меньше
>=         больше или равно
<=         меньше или равно
contains   содержит (без учета регистра)
!contains  не содержит (без учета регистра)

┌───────────────────────────────────────────────────────────────────┐
│ ПЛЕЙСХОЛДЕРЫ В УСЛОВИЯХ                                           │
└───────────────────────────────────────────────────────────────────┘

Используйте те же плейсхолдеры, что и в значениях полей:

{product_id}               - ID товара
{product_name}             - Название товара
{product_sku}              - Артикул
{product_price}            - Цена
{product_stock}            - Остаток
{category_name}            - Название категории
{meta:имя_поля}            - Произвольное поле товара
{attribute:имя_атрибута}   - Атрибут товара

И многие другие! Полный список на странице настроек.

┌───────────────────────────────────────────────────────────────────┐
│ ПРАКТИЧЕСКИЙ ПРИМЕР                                               │
└───────────────────────────────────────────────────────────────────┘

Задача: Добавить поле "DeliveryInfo" только для товаров дороже 5000₽

Решение:
┌─────────────────────────────────────────────────────────────────┐
│ Название XML тега:  DeliveryInfo                                │
│ Значение:          Бесплатная доставка по городу               │
│ Условие:           {product_price}>5000                         │
│ Тип:               text                                         │
│ [✓] Включено                                                    │
└─────────────────────────────────────────────────────────────────┘

Результат: Поле появится только у товаров с ценой выше 5000 рублей!

┌───────────────────────────────────────────────────────────────────┐
│ ВАЖНЫЕ ЗАМЕЧАНИЯ                                                  │
└───────────────────────────────────────────────────────────────────┘

⚠ Условия работают ТОЛЬКО для глобальных полей
⚠ Если условие не указано - поле генерируется всегда
⚠ При неверном формате условие не будет работать

┌───────────────────────────────────────────────────────────────────┐
│ ДОКУМЕНТАЦИЯ                                                      │
└───────────────────────────────────────────────────────────────────┘

📖 Подробная инструкция: УСЛОВИЯ_ГЕНЕРАЦИИ.md
📋 История изменений: CHANGELOG.md
📚 Общая документация: README.md

┌───────────────────────────────────────────────────────────────────┐
│ ТЕСТИРОВАНИЕ                                                      │
└───────────────────────────────────────────────────────────────────┘

Рекомендуем протестировать новую функцию:

1. Создайте тестовое поле с условием
2. Сгенерируйте XML (WooCommerce → Avito Export)
3. Проверьте, что поле появляется только у нужных товаров
4. При проблемах - проверьте логи WordPress

╔═══════════════════════════════════════════════════════════════════╗
║  Версия плагина обновлена с 1.1.1 до 1.2.0                        ║
║  Дата релиза: 23 января 2026                                      ║
╚═══════════════════════════════════════════════════════════════════╝

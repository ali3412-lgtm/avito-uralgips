# Быстрый старт: Вложенные XML поля

## Основные шаги

### 1. Открыть товар или категорию
- **Товар:** Товары → Редактировать → вкладка "Avito"
- **Категория:** Товары → Категории → Редактировать категорию

### 2. Добавить пользовательское поле
Найти раздел **"Пользовательские поля"** и нажать **"Добавить поле"**

### 3. Заполнить поле
- **XML тег:** Название элемента (например, `Purpose`)
- **Значение:** JSON структура (см. примеры ниже)
- **Тип:** Выбрать **"Вложенный"**

### 4. Сохранить товар/категорию

---

## Шаблоны JSON (копируйте и вставляйте)

### Простой список
```json
{
  "Option": ["Вариант 1", "Вариант 2", "Вариант 3"]
}
```

### Характеристики
```json
{
  "Material": {
    "Type": "Газобетон",
    "Density": "D500",
    "Grade": "B2.5"
  }
}
```

### Список характеристик
```json
{
  "Property": [
    {
      "Name": "Размер",
      "Value": "600x300x200"
    },
    {
      "Name": "Вес",
      "Value": "25 кг"
    }
  ]
}
```

### С плейсхолдерами
```json
{
  "Option": [
    "{category_name}",
    "Цена: {product_price} руб."
  ]
}
```

---

## Частые ошибки

❌ **Запятая после последнего элемента:**
```json
{
  "Option": ["A", "B", "C",]  // НЕПРАВИЛЬНО
}
```

✅ **Правильно:**
```json
{
  "Option": ["A", "B", "C"]
}
```

---

❌ **Одинарные кавычки:**
```json
{
  'Option': ['A', 'B']  // НЕПРАВИЛЬНО
}
```

✅ **Правильно:**
```json
{
  "Option": ["A", "B"]
}
```

---

❌ **Незакрытые скобки:**
```json
{
  "Option": ["A", "B"  // НЕПРАВИЛЬНО - нет ]
}
```

✅ **Правильно:**
```json
{
  "Option": ["A", "B"]
}
```

---

## Проверка JSON

Используйте онлайн-валидатор перед вставкой:
- https://jsonlint.com/
- https://jsonformatter.curiousconcept.com/

---

## Где смотреть результат?

После сохранения сгенерируйте XML:
1. **WooCommerce → Avito Export**
2. Нажмите **"Сгенерировать XML"**
3. Откройте файл и найдите ваш XML тег

---

## Нужна помощь?

Смотрите полное руководство: `NESTED_FIELDS_GUIDE.md`
